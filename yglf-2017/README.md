# When East meets West: web typography and how it can inspire modern layouts

*For You Gotta Love Frontend 2017. This is sort of a transcript of the talk.*

Shalom! This is my first time in Israel and it is a wonderful feeling to be standing on this stage to speak to you all about typography, about layout, and about design, all in the context of the web. What I'm offering, is perhaps a perspective that is different from what you're used to. And I hope you will hear me out.

In case you did not realise, I'm Chinese. But I am not from China. For Chinese names, the surname comes first, followed by the given name. So my name is Hui Jing. I used to play basketball full time and it was what kick-started my web career. I also write blog posts from time to time, mostly about CSS.

## About the web

How many people identify as developers? And designers? Okay, I've seen this question asked before and realise that people in general don't like raising their hands, which is fine. Neither do I. But I do want everybody to hold this question in your minds for a bit. What does that web mean to you?

For me, I love the web. The World Wide Web. I was a lucky kid, in that even though our family was far from rich, we've always had a computer in the house because my parents would use it for work. And inevitably there were games on there.

My first experience with the web sounded like this. If you've never heard this before, well, you can guess how old I am, I suppose. When I think about the web, I think about how amazing it is that it can connect the world's population.

In fact, without the web, it wouldn't be possible for me to be standing here in the beautiful city of Tel Aviv talking to you about the web.

Similar to Israel, the country where I'm from does not use English as its first language, though it too is used as a second language among many. Of the world's 7.6 billion people, only 4.9% are native English speakers, but 51.2% of websites are in English. Something isn't quite right about this ratio.

Now I am a fan of Gal Gadot, and I remember watching her on a panel at the San Diego Comic Con a couple years ago when an Israeli fan asked her a question in Hebrew, and the first thing she said in her response was she was so moved that someone spoke to her in Hebrew. This really stuck with me.

The world is beautiful because of its cultural diversity. Language is part of a society's cultural heritage and is especially important for the maintenance of it.

The web is an informational medium, people go online to find out about things. Even if you're going online to buy something, don't you need information about the product you're going to purchase? So the priority is always content. The web is only useful to people who can understand the content on it.

Which is why I'm slightly comforted to know that Internationalisation is a priority at the W3C. It is crucial that a technology meant to be ubiquitous supports the creation of local content across the world. That every writing system in the world can be correctly rendered on the web.

## About Typography

Someone once asked me this question, do developers even care about typography? I think they do. But maybe I'm wrong. How many of you think typography is important?

Typography has always been an integral part of Human-Computer Interaction and software design. There is a very good reason why Apple has an entire section dedicated to Typography in the Apple Developers' Human Interface Guidelines.

You might disagree with me, but as a front-end developer, the code we write impacts how our sites or applications look, so we too have a share of the responsibility in the design of our products.

> Web design is 95% typography

Oliver Reichenstein said in his article this back in 2006. He reiterated that the web as a medium, is all about information. Textual content is the most straightforward method of delivering information on the web. And whether we like it or not, Typography is increasingly becoming what differentiates a good website from bad.

Let's be honest, people are superficial and have short attention spans these days. The typography, layout and design of a site or application are like the clothes you wear. And people make judgements  off their first impressions of you or your site based on what they see.

> Typography is writing with prefabricated letters

There are many definitions of Typography out there, and I personally like this one, by Gerrit Noordzij. Letters are the building blocks of a writing system, regardless of language. Now I want you to think about the languages you're familiar with, which I assume is Hebrew and English. Both of these are alphabetic languages.

Israel is a world leader in technology and innovation, with a robust startup scene. So it is no wonder that Chinese investments in Israeli startups exceeded $500 million in 2015. Earlier this year, Israel and Japan signed 2 agreements in Jerusalem that would increase collaboration on both business and cyber-security ventures in the hopes it would double the trade volume between both countries.

There's a bit of an East-Asian relationship developing here. So you can think of this talk as providing a little bit of cultural exchange. Now I'm going share about an East Asian language that I am very familiar with, which is Chinese.

## About the Chinese language

Chinese is not alphabetic. It is a logographic writing system. Each Chinese character is composed within a uniform square, allowing Chinese to be read efficiently, regardless of whether it is set horizontally or vertically.

And until proven otherwise, it seems that the Chinese script developed separately from the Proto-Sinaitic scripts which were the origins of alphabetic languages.

Which is why the Western languages in Europe are inherently different from the Eastern languages in Asia. Alphabetic languages, which originated from the Phoenician alphabet, combine a small set of letters to form all the words that the language needs for the purpose of communication.

Chinese characters, on the other hand, number in the tens of thousands. Each a unique glyph that can express meaning on their own or be used in combination with other glyphs.

For example, Hippopotamus, an English word of 12 letters. Chinese only needs 2 characters, 河马.

Okay, let me try this though I'm sure I'll butcher the pronunciation, וכשבזרועותיהם. A 13-letter Hebrew word. In Chinese, we can say 抱.

Grianghrafadóireachta, Irish word of 21 letters. Again, 2 characters will do, 摄影. What can I say, Chinese is a concise language.

The appearance of the earliest letterforms was directly influenced by the tools that were used to create them, and continually evolved in tandem with the limitations of the technologies of their time.

Take the Latin alphabet for example, which is derived from Greek. The earliest letters were sans-serif when writing was done with a hard reed pen. Serifs may have came about due to a transition to a square-cut writing implement, like a flat stiff brush.

Later scribes and copyists used quill pens and as demand for written matter grew, they developed more efficient styles of writing, evolving the letterforms yet again.

When it comes to classifying script styles, Latin-based scripts can broadly be put into two big categories, Serifs and Sans-serifs.

Chinese characters also changed a lot since their origins. It's just that Chinese writing went through the entire process of development and evolution way earlier than Europe.

The key implement of Chinese writing is the brush. Calligraphy was and still is one of the most highly regarded Chinese arts. The works of famous calligraphers were used as the basis for carving woodblocks used for printing.

Woodblock printing was invented in China, and the Chinese were exceptional at it. To the point where it was a contributing factor to why moveable type, which too was invented in China, never really took off there.

These days, typefaces used for printing Chinese publications can be broadly classified into the following families: 宋体 (also known as 明体), 楷体, 仿宋体 and 黑体. Both 黑体 and 仿宋体 are twentieth century creations.

Chinese typefaces are extremely challenging to create, simply due to the volume of glyphs required. The average number of glyphs for a Chinese system font clocks in at around 35,000 glyphs, give or take a couple thousand.

Typefaces that have enough glyph coverage to be used in body copy are usually made by foundries as very few independent type designers have the bandwidth for that.

Language and writing has allowed human beings to communicate ideas and record history for thousands of years. And we've written on almost anything we could get our hands on.

Right now, the medium of our time is the screen and the browser. Our types are now font files. And we've replaced typesetting using composing sticks with CSS.

But remember this, an electronic display is a proxy medium. Whatever we see displayed on a screen comes from data encoded as electronic signals. The heart of electronic displays is light. It is transient. We cannot touch light.

The web isn't even 30 yet, and this young medium is like nothing we've seen before. It is dynamic and interactive. Some designers, especially those who are used to having absolute control over their final presentations, find this behaviour disturbing.

Although it may be tempting to view the web as simply print expressed on an electronic screen, it is not. It is a unique medium of its own.

## About digital fonts and web typography

When we talk about typography on the web, one of the first things that comes to mind is web fonts. So let's start off with some basics.

What is a font?

In world of metal typesetting, this is a font, which refers to a complete set of metal types that were used to typeset entire pages of text. If you can see the tiny text label on the drawer, this set being shown is for Caslon, 12pt.

In the digital world, these are fonts, specifically font files. For both analogue and digital fonts, you can think of them as collections of glyphs.

And what are glyphs?

A glyph is the specific shape of a letter or character in a particular font. In the digital world, everything is data. So glyphs can be described with an array of pixels, or collections of vector images or even paths of Bézier curves and straight lines.

Different font formats store information about the font, like their glyphs, encodings, metadata about the font etc., differently based on how their specifications were written.

### Web font formats

If you've ever used web fonts before, you would have seen these font formats. Have you wondered why there are so many? We'll need to go a bit back in time for this. The earliest fonts were pixel-based bitmaps, which were fine for low-resolution screens, but for printing on high-resolution printers, a better solution was needed.

It was such a worthy problem that smart people came up with two different solutions. Donald Knuth created Metafont in 1978 for the TeX system, which generated compressed bitmap fonts. John Warnock, founder of Adobe, came up with Postscript in 1985, the very first vector font, and it really took off.

TrueType was Apple and Microsoft's answer to Adobe's font monopoly. Both companies then worked separately to improve TrueType, especially with regards to fonts for East Asian writing systems. Eventually, Microsoft turned to Adobe and together they came up with OpenType.

EOT, or embedded OpenType is Microsoft's proprietary standard, which is a compact form of OpenType fonts meant for use on web pages. Although they tried to submit this as a W3C recommendation, it was rejected in favour of WOFF, or the Web Open Font Format. WOFF2 is an improvement over WOFF with significantly better compression rates.

On the practical side of things, the <code>@font-face</code> rule is used to declare a list of different font formats. We do this in the hopes that our fonts will show up correctly in as many browsers as possible. The number of font formats we need to declare has decreased over the years and right now, you can pretty much get away with declaring just WOFF and WOFF2.

### CSS properties and font descriptors

Chris Lilley, who chaired the group that developed @font-face, explained it really well in his dotCSS talk. That properties are requests for styling and descriptors are descriptions of capabilities. Fun fact, Chris Lilley spoke at last year's You Gotta Love Frontend and you can watch that video on Youtube. 

A <code>font-weight: bold;</code> within a <code>@font-face</code> rule means this font can do bold. While a <code>font-weight: bold;</code> applied as a property means style this element with a font that can do bold.

These here are CSS font properties, and the way I've structured this table is, those I feel are most commonly used are at the top. For a given range of text, these CSS font properties are used by the browser to select a font family and a specific font face within that family to be used when rendering that text.

And these, as mentioned earlier, are font descriptors, and only the <code>font-family</code> descriptor and the <code>src</code> descriptor are mandatory.

If either of them are absent, the entire <code>@font-face</code> rule is ignored. The <code>font-family</code> descriptor is simply a label that we reference in other CSS declarations. So even if you're using say, Frutiger, you could actually call it “Kreplach” and it would still work.

The <code>src</code> descriptor is comma-separated list of external references or locally-installed font face names. It is made up of the declaration of the font file's location, and an optional format hint. If the browser doesn't support a particular font format stated in that hint, the font file won't be loaded.

The next 3 descriptors, for style, weight and stretch, are used to match styles to a particular typeface in later declarations. Technically, you could assign a black typeface to a font-weight of 100 and proceed to confuse your team members who cannot figure out why setting a weight of 100 gives them this massively bold typeface. Perhaps an idea for next year's April Fool's day.

My slides use a font called Magnetic Pro, which does not support Hebrew characters, so I used a font from the Open Siddur project called Carmelit for the Hebrew characters I needed displayed.

So the code points in the <code>unicode-range</code> descriptor are that of the Hebrew letters that I used earlier. Now, say I have a page that only uses English words, Carmelit's font files will not load at all because it is not needed. It will only load when the browser encounters the Hebrew letters in the <code>unicode-range</code> specified.

If you work on multi-lingual sites, it is recommended you declare your Latin-based font of choice first, because order does matter. Especially if you're working with East Asian fonts.

Declaring those fonts first will result in the Latin characters displayed using glyphs from the East Asian font instead. Sometimes the Latin characters for those fonts aren't polished and may not look great, especially on Windows.

Also, even though browsers are supposed to match font names case insensitively, it is still recommended to put them in quotes, just in case.

### Font feature properties

Font feature properties were introduced in Fonts Level 3. Modern font technologies allow fonts to contain a lot more glyphs that before. So we can utilise a variety of typographic features like swashes, ligatures, old-style numerals and so on.

Perhaps some of you may be wondering, what's the point of having all these typographic features?

They are part and parcel of good typography, which is necessary to hold your reader's attention. The written word is a transference of speech, which is heard, into something visual, to be seen. Good speakers will vary their cadence, use gestures, emphasise certain words.

Typographic features like small caps, correct use of italics and punctuation do the same for text. Other features like old style numerals and ligatures help maintain typographic colour, to make reading more comfortable.

So these are the features you can turn on via CSS, but note that the font you are using must have these features to begin with. This lot up there, are the features most often mentioned at web typography talks.

Few people talk about <code>font-variant-east-asian</code>. What this property does is allow for glyph substitution and positioning in East Asian text. If you're unfamiliar with Han characters, it might seem like these languages share the same glyphs, but it depends. Han unification involves assigning the same code point to different glyphs, and it has been quite a controversial issue.

We won't get into that, but the point is, the same code point can have variant glyphs depending on the language being used. Like, simplified Chinese glyphs versus traditional Chinese glyphs. Japanese glyphs have their own specification known as JIS or Japanese Industrial Standard, and they too have alternate glyphs for the same character. This property allows us to toggle these variant glyphs.

<code>font-feature-settings</code> allows us to toggle very specific OpenType properties. Last I checked, there were 141 OpenType feature tags to cover things like vertical kerning, unicase, scientific inferiors and so on.

Browser support for each of <code>font-variant</code> properties varies at the moment, with Firefox being the only browser that has supported all of them since version 34.0.

<code>font-feature-settings</code>, on the other hand, has quite good support across most browsers. Although, the specification recommends to utilise the respective <code>font-variant</code> properties over the <code>font-feature-settings</code> property, until browser support becomes more robust, I suppose we'll continue to see <code>font-feature-settings</code> being used instead.

## About web layouts

Within the short span of the web's life, we've seen web layouts evolve as browser technologies and web standards matured. In the web's infancy, there was no layout whatsoever. We were still amazed that the web even existed.

Then, during the pre-school age of the web, we started to use tables to do layout. And that was fun, because like most kindergarteners, everything seemed like a good idea. There were all sorts of crazy, creative layouts on the web.

But when we got to the pre-teen era, things started to conform a little more. We got a bit more self-concious, a little less radical, it wasn't that cool to be different. Float-based layouts to build sites with headers, sidebars and footers were the most socially acceptable.

By high school, life had gotten complicated, and angsty. CSS was hard. Responsive design, what? People suck. Browsers are broken. Oh, someone will do all that for me? Frameworks? Sure! I don't give a crap. So we ended up with sites that utilised very similar layouts.

But something big happened this year. CSS Grid was released. CSS Grid is a revolutionary feature that was designed specifically for doing layout on the web.

All the other techniques we've used in the past, HTML tables, floats, even flexbox, were never meant for doing full page layouts. They were creative hacks we came up with to build the layouts that we wanted.

So this is the year web layouts come of age. We now have a level of control over how elements are rendered on the browser that we've never had before, with CSS grid. And when used in combination with other properties, like CSS shapes, transforms, viewport units and so on, the design possibilities become endless.

> We need to translate ideas that we find in other places, not transfer them.

Jen Simmons said this in her talk at An Event Apart a couple years ago, that we need to translate ideas instead of transfer them. And right now, CSS is developed enough for us to take ideas, concepts and inspiration for layouts from everywhere and translate them to the web.

## About writing-mode

Vertical writing is traditionally East Asian. For Han characters, which are used in Chinese, Japanese and Korean. But when it comes to design, we can layout text in all directions if we so choose.

So I want to introduce the <code>writing-mode</code> property, which deals specifically with vertical text.

You literally turn the browser on its side. Some people might be saying, no big deal, we can do that with transforms too. But it's kind of different.

This is what happens to your text when the different values of writing-mode are applied. The default is horizontal, top-to-bottom. To change the direction to vertical, we use <code>vertical-rl</code> or <code>vertical-lr</code>.

Now when we rotate text, it's not only the lines that change direction, because each line contains individual letters or characters. They have an orientation as well.

For text-orientation, the initial value is mixed. Browsers are smart enough to tell which languages can be typeset both vertically and horizontally, or in one direction only. So Chinese characters, for example, will always be displayed upright. While horizontal-only languages, will have their characters rotated when vertical.

The <code>text-orientation</code> property let's you control this, and make all the characters upright or sideways, if you want to.

One more relevant property is <code>text-combine-upright</code>. This addresses the issue of numerals and abbreviations in vertical text. A very common use case is dates, especially for Taiwan, where they use the 民國 calendar. This property lets us fit all the digits into the width of one character and display them upright.

No browser supports the digits value yet, which allows us to dictate how many digits are acceptable to be squeezed in. The range allowed is between 2 to 4 characters. For now, with the <code>all</code> value, there is no limit, so you could technically put hippopotamus in there and it will just look horribly squished.

Laying out content in a different direction does require a change in perspective. And I gleaned quite a few insights from working with vertical layout. For example, the techniques I was so used to for centring items worked a bit differently with a vertical layout.

To vertically centre a block, setting the top and bottom margins to <code>auto</code> actually does work, unlike in horizontal writing, which is great. But trying to centre something horizontally is an exercise in pain.

These directions of top, right, bottom, left start getting a bit confusing when you have rotated Latin text. Say you have this header, and you want some extra spacing between the header and the paragraph, is the margin set on the bottom or the left? It's actually the left.

That's why we have a CSS Logical Properties specification, which introduces new CSS properties that are flow-relative equivalents of physical box model properties. Properties like that use <code>block-start</code> and <code>block-end</code> or <code>inline-start</code> and <code>inline-end</code> instead of left and right. This specification is in the thick of working draft status but I'm eager to see it developed and implemented. For now, support is kind of limited.

### Real-world examples

I had built a layout for displaying Chinese text with a toggle that allowed readers to switch between vertical and horizontal layouts. And it wasn't as straightforward as I thought it would be.

A tricky thing was getting the images to orientate correctly. I would have loved to have a media query for writing modes so I could layout my images accordingly with the picture element, but that doesn't exist so I ended up working around the image issue with CSS transforms instead.

Implementing vertical layouts has become much easier, as browser vendors continue to improve the functionality of their products, and this opens up an aspect of graphic design that isn't often seen on the web at the moment.

For example, you can make a bookshelf style list of posts with just CSS. Something like this can be done by applying a <code>vertical-rl</code> to each list item, plus some padding and inset box-shadows for the visual effect.

Another idea is for headers. For horizontal languages, you wouldn't layout long chunks of text vertically because that just makes it hard to read. But using vertical text for short titles or headers can break up the monotony of a long page.

Other subtle uses of vertical text could be for tags on blog posts, where the information is not critical to the main content, so laying it out vertically doesn't adversely affect the reading experience.

For languages meant to be read horizontally from top to bottom, vertical text should largely be decorative. We don't want to compromise the reading experience for long form passages. So at smaller screens, we can make use of media queries to revert to a horizontal layout that makes better use of the limited space.

Conversely, there are instances where text rotated vertically can work on narrow screen sizes as well. Perhaps you have realised that the hamburger menu is not the best mobile UI pattern we came with. Depending on the number of links in your navigation, laying them out vertically along the side edge could be a design worth considering. And I'm sure many of you can come up with even more interesting designs that utilise vertical layouts.

## About contributing to the web

Statistically, there aren't that many sites which use the <code>writing-mode</code> property. When I started building vertical layouts, Grid hadn't landed yet, so I used Flexbox for a lot of the layout. Flexbox support is great, I mean, it has wider coverage than <code>border-radius</code>, but Flexbox with <code>writing-mode</code>? Not so good. I'll be honest, there are quite a large number of cross browser issues. Like, on Firefox, if you don't specify a width on the element with a vertical writing mode, it gets kicked off the page.

But that doesn't mean we should just shy away from using vertical text altogether. In fact, there's never been a better time than now to live on the cutting edge. Evergreen browsers are a thing now, with bug fixes and new features being shipped faster than ever.

CSS Grid, I feel, is one of the best rollouts of a new major CSS feature ever, with almost all the major browsers shipping it in March this year. By now, more than 70% of the market is using a browser that supports Grid.

And here's a little secret I discovered, by raising bugs we find when trying out new features, we are actually showing browser vendors that these features are in demand.

This works both ways, if we don't use features simply because they are buggy, browser vendors will think that nobody really cares about that feature and choose to fix more pressing bugs instead. But if more of us use those features and raise the bugs we discover, it sends a signal to browser vendors that people are using these features and encourage them to address related bugs sooner than later.

## Wrapping up

Here's the long list of resources I referred to when preparing this talk and I'll share these slides for anybody who is interested.

If you need inspiration for vertical layouts, the Tateyoko Web Awards site has really nice list. My friend, Jen Simmons, also has an experimental layout lab where she showcases all the different things that are now possible with modern CSS.

And even if you don't end up using any of what I've covered immediately in your next project, I hope that you keep these techniques and properties in the back of your mind. And maybe one day, when you're tired of building the same old layouts again and again, you'll reach for them and create something amazing.

Todah!
